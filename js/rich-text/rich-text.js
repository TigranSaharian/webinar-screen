!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.ysEditor=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(t){"use strict";var e={wrapper:"#yseditor",toolbar:["undo","redo","bold","italic","underline","strikethrough","h1","h2","h3","p","quote","left","center","right","justify","ol","ul","sub","sup","removeformat"],bottom:!1,height:200,scroll:!1,includeContent:!0,footer:!0,footerText:""},n={bold:{title:"Bold",command:"bold",text:"<b>B</b>"},italic:{title:"Italic",command:"italic",text:"<i>I</i>"},underline:{title:"Underline",command:"underline",text:"<u>U</u>"},strikethrough:{title:"Strike through",command:"strikeThrough",text:"<strike>S</strike>"},left:{title:"Align left",command:"justifyLeft",text:"Left"},center:{title:"Align center",command:"justifyCenter",text:"Center"},right:{title:"Align right",command:"justifyRight",text:"Right"},justify:{title:"Align justify",command:"justifyFull",text:"Justify"},sub:{title:"Subscript",command:"subscript",text:"X<sub>2</sub>"},sup:{title:"Superscript",command:"superscript",text:"X<sup>2</sub>"},ol:{title:"Ordered list",command:"insertOrderedList",text:"<b>&#35;</b>"},ul:{title:"Unordered list",command:"insertUnorderedList",text:"<b>&#8226;</b>"},removeformat:{title:"Clear formatting",command:"removeFormat",text:"CF"},undo:{title:"Undo",command:"undo",text:"&#8630;"},redo:{title:"Redo",command:"redo",text:"&#8631;"},h1:{title:"Heading 1",command:"formatBlock",text:"H1",value:"h1"},h2:{title:"Heading 2",command:"formatBlock",text:"H2",value:"h2"},h3:{title:"Heading 3",command:"formatBlock",text:"H3",value:"h3"},p:{title:"Paragraph",command:"formatBlock",text:"&#182;",value:"p"},quote:{title:"Quote",command:"formatBlock",text:"&#10077;&#10078;",value:"blockquote"}},r=function(){var t={},e=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var i=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e&&"[object Object]"===Object.prototype.toString.call(n[o])?t[o]=r(!0,t[o],n[o]):t[o]=n[o])};n<o;n++){i(arguments[n])}return t},o=function(i){var l={},a=null,s=null,c=null;l.init=function(i){if(!("querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("div")&&"contentEditable"in document.createElement("div")&&"insertAdjacentElement"in document.createElement("div")))throw"ysEditor: This browser does not support the required JavaScript methods and browser APIs.";if(l.destroy(),(a=r(e,i||{})).wrapper="string"==typeof a.wrapper?document.querySelector(a.wrapper):a.wrapper,!(a.wrapper instanceof HTMLElement))throw new TypeError("ysEditor: Please select a valid wrapper.");-1===o.cache.indexOf(a.wrapper)&&(a.wrapper.classList.add("yseditor"),(s=new u("yseditor-toolbar")).addButtonRange(a.toolbar,n),c=new m("div","yseditor-content"),!0===a.includeContent&&c.setHTML(a.wrapper.innerHTML),!0===a.scroll&&(c.element.style.overflowY="scroll",c.element.style.height=parseInt(a.height)+"px"),c.element.contentEditable=!0,a.wrapper.innerHTML=null,a.wrapper.insertAdjacentElement("afterbegin",c.render()),a.wrapper.insertAdjacentElement(a.bottom?"beforeend":"afterbegin",s.render()),o.cache.push(a.wrapper))},l.getText=function(){return c.getText()},l.setText=function(t){return c.setText(t)},l.getHTML=function(){return c.getHTML()},l.setHTML=function(t){return c.setHTML(t)},l.destroy=function(){a&&(a.wrapper.innerHTML=c.getHTML(),a.wrapper.classList.remove("yseditor"),o.cache.splice(o.cache.indexOf(a.wrapper),1),a=null,s=null,c=null,null)};var u=function(t){this.buttons=[],this.element=null,this.className=t};u.prototype.addButton=function(t){this.buttons.push(t)},u.prototype.render=function(){this.element=document.createElement("div"),this.element.className=this.className;for(var t=0,e=this.buttons.length;t<e;t++){var n=this.buttons[t];this.element.appendChild(n.render())}return this.element},u.prototype.addButtonRange=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e.hasOwnProperty(o)){var i=e[o];"object"==typeof i&&this.addButton(new d(i.command,i.text,i.title,i.value,i.callback))}else console.log("ysEditor: "+o+" not found")}};var d=function(t,e,n,r,o){this.command=t,this.text=e||"",this.title=n||"",this.value=r,this.callback=o,this.element=null};d.prototype.render=function(){var t=this;return this.element=document.createElement("button"),this.element.innerHTML=this.text,this.element.title=this.title,this.element.type="button",this.element.addEventListener("click",function(){document.queryCommandSupported(t.command)&&document.execCommand(t.command,!1,t.value||"")&&c.element.focus()}),"function"==typeof this.callback&&this.callback(this,c),this.element};var m=function(t,e){this.elementType=t,this.className=e,this.element=document.createElement(this.elementType)};m.prototype.render=function(){return this.element.className=this.className,this.element},m.prototype.setHTML=function(t){this.element.innerHTML=t||""},m.prototype.getHTML=function(){return this.element.innerHTML},m.prototype.setText=function(t){this.element.textContent=t},m.prototype.getText=function(){return this.element.textContent.replace(/\s{2,}/g," ")};return l.init(i),l};return o.defineButton=function(t,e){n[t]=e},o.cache=[],o});